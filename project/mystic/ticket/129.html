<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  
<!-- Mirrored from mmckerns.github.io/project/mystic/ticket/129 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 18 May 2016 23:49:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <title>
      #129 (allow calling Solve() multiple times on same solver)
     â€“ Mystic
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="search" href="../search.html" />
        <link rel="prev" href="128.html" title="Ticket #128" />
        <link rel="last" href="257.html" title="Ticket #257" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="http://mmckerns.github.io/project/mystic/ticket/129?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="http://mmckerns.github.io/project/mystic/ticket/129?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="http://mmckerns.github.io/project/mystic/ticket/129?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="130.html" title="Ticket #130" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="http://mmckerns.github.io/mystic_icon.ico?" />
        <link rel="icon" href="http://mmckerns.github.io/mystic_icon.ico?" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search Mystic" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="29dfe7d61594daee56a0f88e";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/project/mystic/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 129, escape_newlines: 0}
        $("#comment").autoPreview("/project/mystic/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/project/mystic/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
    <link rel="stylesheet" type="text/css" href="../chrome/site/style.css" />
  </head>
  <body>
    <div id="siteheader">
    </div>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://mmckerns.github.io/project/mystic/wiki.html"><img src="http://mmckerns.github.io/projects/mystic/mystic_banner.png" alt="MYSTIC" height="150" width="300" /></a>
      </div>
      <form id="search" action="http://mmckerns.github.io/project/mystic/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../prefs.html">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../wiki.html">Wiki</a></li><li><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li><a href="../browser.html">Browse Source</a></li><li class="active"><a href="../query.html">View Tickets</a></li><li class="last"><a href="../search.html">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="128.html" title="Ticket #128">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="130.html" title="Ticket #130">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="129.html">Ticket #129</a>
          <span class="status">(closed task: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2010-07-30T10%3A04%3A49-07%3A00&amp;precision=second" title="2010-07-30T10:04:49-07:00 in Timeline">6 years</a> ago</p>
    <p>Last modified <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2013-07-09T19%3A38%3A19-07%3A00&amp;precision=second" title="2013-07-09T19:38:19-07:00 in Timeline">3 years</a> ago</p>
  </div>
  <h2 class="summary searchable">allow calling Solve() multiple times on same solver</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="http://mmckerns.github.io/project/mystic/query?status=%21closed&amp;reporter=altafang">altafang</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="http://mmckerns.github.io/project/mystic/query?status=%21closed&amp;owner=mmckerns">mmckerns</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="http://mmckerns.github.io/project/mystic/query?status=%21closed&amp;priority=major">major</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="milestone" href="../milestone/mystic-1.html">mystic-0.2a2</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="http://mmckerns.github.io/project/mystic/query?status=%21closed&amp;component=mystic.solvers">mystic.solvers</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
I think it would be good to either create a clear_results() method for solvers or write a warning in the documentation for users not to call Solve() on the same solver instance multiple times, since it may be easy for users to forget to create a new solver object when running a new optimization. I sometimes make the mistake of creating a solver object, setting up initial conditions, bounds constraints, etc., running solver.Solve() on one cost function, getting the answer, and then running solver.Solve() again on another cost function, thus avoiding setting up the solver again. However, for solvers like the differential evolution solvers, attributes such as bestEnergy and population are stored and re-used, giving incorrect results if you call Solve() twice like that. Thus, even if you want to run an optimization with the same solver, same initial conditions, etc., you have to create a new solver and re-initialize it if you want the right answer. This is difficult for users to debug, too, since no error is thrown, and it looks like the results are legitimate when you call Solve() twice.
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2010-08-29T09%3A47%3A47-07%3A00&amp;precision=second" title="2010-08-29T09:47:47-07:00 in Timeline">6 years</a> ago by mmckerns
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>mystic-dev</em> to <em>mystic-0.2a2</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2010-09-07T21%3A31%3A06-07%3A00&amp;precision=second" title="2010-09-07T21:31:06-07:00 in Timeline">6 years</a> ago by mmckerns
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Summary</strong>
        changed from <em>Calling Solve() multiple times on same solver</em> to <em>allow calling Solve() multiple times on same solver</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2010-09-09T15%3A40%3A24-07%3A00&amp;precision=second" title="2010-09-09T15:40:24-07:00 in Timeline">6 years</a> ago by mmckerns
                </h3>
                
    <div class="comment searchable">
      
      <p>
this brings about an even better design opportunity...
</p>
<blockquote>
<p>
1) changing some set-up condition, or the cost function, or whatever, and then running solver.Solve again could be desired behavior if you want to start from the endpoint of the previous call to the solver.  This could be very useful in addressing tricky problems, or building strategies that automatically switch between methods or solver conditions.
</p>
</blockquote>
<blockquote>
<p>
2)  calling solver.Solve a second time "clears" out the last run, and resets the solver to the initial state (i.e. post-configuration, but pre-run). This seems to be in conflict with the above point, which is more powerful.  So maybe a solver.Reset() method could handle this.
</p>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2011-06-29T14%3A14%3A18-07%3A00&amp;precision=second" title="2011-06-29T14:14:18-07:00 in Timeline">5 years</a> ago by mmckerns
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>minor</em> to <em>major</em>
    </li><li>
      <strong>Type</strong>
        changed from <em>defect</em> to <em>task</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2011-07-07T15%3A54%3A59-07%3A00&amp;precision=second" title="2011-07-07T15:54:59-07:00 in Timeline">5 years</a> ago by mmckerns
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>mystic-0.2a2</em> to <em>mystic-0.2a3</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2012-12-29T19%3A03%3A53-08%3A00&amp;precision=second" title="2012-12-29T19:03:53-08:00 in Timeline">3 years</a> ago by mmckerns
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>mystic-0.3a</em> to <em>mystic-0.2a2</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2013-02-01T05%3A50%3A28-08%3A00&amp;precision=second" title="2013-02-01T05:50:28-08:00 in Timeline">3 years</a> ago by mmckerns
                </h3>
                
    <div class="comment searchable">
      
      <p>
split off implement solver.Reset() to ticket <a class="new ticket" href="207.html" title="enhancement: implement solver.Reset() (new)">#207</a>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="http://mmckerns.github.io/project/mystic/timeline?from=2013-07-09T19%3A38%3A19-07%3A00&amp;precision=second" title="2013-07-09T19:38:19-07:00 in Timeline">3 years</a> ago by mmckerns
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
this is closed by <a class="changeset" href="../changeset/698.html" title="fix: Solve does not recompute when Step has been already called
">r698</a>.  solver.Reset() is to be handled by <a class="new ticket" href="207.html" title="enhancement: implement solver.Reset() (new)">#207</a>.
</p>

    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="http://mmckerns.github.io/project/mystic/ticket/129?format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="http://mmckerns.github.io/project/mystic/ticket/129?format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="http://mmckerns.github.io/project/mystic/ticket/129?format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="uqf" href="http://www.uqfoundation.org/"><img src="http://mmckerns.github.io/projects/mystic/UQ.png" height="38" width="50" alt="UQ Foundation" /></a>
      <a id="caltech"><img src="http://mmckerns.github.io/projects/mystic/Caltech.png" height="40" width="40" alt="Caltech" /></a>
      <a id="nsf"><img src="http://mmckerns.github.io/projects/mystic/NSF.png" height="42" width="42" alt="NSF" /></a>
      <a id="afosr"><img src="http://mmckerns.github.io/projects/mystic/AFOSR.png" height="40" width="40" alt="AFOSR" /></a>
      <a id="doe"><img src="http://mmckerns.github.io/projects/mystic/DOE.png" height="40" width="40" alt="DOE" /></a>
      <a id="nnsa"><img src="http://mmckerns.github.io/projects/mystic/NNSA.png" height="40" width="100" alt="NNSA" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12</strong></a><br />
        and coffee, lots of coffee.<br />
        This project is funded by...</p>
      <p class="right">For more information, please visit<br />the mystic project homepage at<br /><a href="http://mmckerns.github.io/projects/mystic">http://mmckerns.github.io/projects/mystic</a></p>
    </div>
    <div id="sitefooter">
    </div>
  </body>

<!-- Mirrored from mmckerns.github.io/project/mystic/ticket/129 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 18 May 2016 23:49:12 GMT -->
</html>
